Есть сервис общающийся с БД. Происходит запрос свободных мест.
Пользователь выбирает место и действие для этого место.
Сервис вызывает функция для действия с требуемым уровнем изоляции.
